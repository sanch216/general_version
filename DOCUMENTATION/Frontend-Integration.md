# üîê JWT –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ ‚Äî –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

## –û–±–∑–æ—Ä

–≠—Ç–æ –≥–∞–π–¥ –∫–∞–∫ –í–°–Å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ:
- üì° `api.js` (–æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å —Ç–æ–∫–µ–Ω–æ–º)
- üîë `Login.jsx` (–ø–æ–ª—É—á–µ–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞)
- üõ°Ô∏è `ProtectedRoute.jsx` (–∑–∞—â–∏—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü)
- üë§ `Header.jsx` (–∫–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞)

---

## üìä –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 –§–†–û–ù–¢ (React)                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                     ‚îÇ
‚îÇ  Login.jsx                                          ‚îÇ
‚îÇ  - –í–≤–æ–¥–∏—à—å email + –ø–∞—Ä–æ–ª—å                           ‚îÇ
‚îÇ  - –û—Ç–ø—Ä–∞–≤–ª—è–µ—à—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä                            ‚îÇ
‚îÇ  - –ü–æ–ª—É—á–∞–µ—à—å —Ç–æ–∫–µ–Ω                                  ‚îÇ
‚îÇ  - –°–æ—Ö—Ä–∞–Ω—è–µ—à—å: setToken(token)                      ‚îÇ
‚îÇ              ‚îÇ                                      ‚îÇ
‚îÇ              ‚Üì                                      ‚îÇ
‚îÇ  api.js (Request Interceptor)                       ‚îÇ
‚îÇ  - –î–æ—Å—Ç–∞–µ—Ç —Ç–æ–∫–µ–Ω: getToken()                        ‚îÇ
‚îÇ  - –î–æ–±–∞–≤–ª—è–µ—Ç –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫: Authorization: Bearer ..  ‚îÇ
‚îÇ              ‚îÇ                                      ‚îÇ
‚îÇ              ‚Üì                                      ‚îÇ
‚îÇ  –õ—é–±–æ–π –∑–∞–ø—Ä–æ—Å (api.post, api.get –∏ —Ç.–¥.)            ‚îÇ
‚îÇ  - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å —Ç–æ–∫–µ–Ω–æ–º                           ‚îÇ
‚îÇ              ‚îÇ                                      ‚îÇ
‚îÇ              ‚Üì                                      ‚îÇ
‚îÇ  ProtectedRoute (–≤ App.jsx)                         ‚îÇ
‚îÇ  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç: –µ—Å—Ç—å –ª–∏ —Ç–æ–∫–µ–Ω?                        ‚îÇ
‚îÇ  - –ï—Å–ª–∏ –î–ê ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É                    ‚îÇ
‚îÇ  - –ï—Å–ª–∏ –ù–ï–¢ ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /login                    ‚îÇ
‚îÇ              ‚îÇ                                      ‚îÇ
‚îÇ              ‚Üì                                      ‚îÇ
‚îÇ  Header.jsx                                         ‚îÇ
‚îÇ  - –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –µ—Å—Ç—å ‚Üí –∫–Ω–æ–ø–∫–∞ "–í—ã—Ö–æ–¥"                 ‚îÇ
‚îÇ  - –ü—Ä–∏ –∫–ª–∏–∫–µ: removeToken() + —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /login    ‚îÇ
‚îÇ              ‚îÇ                                      ‚îÇ
‚îÇ              ‚Üì                                      ‚îÇ
‚îÇ  api.js (Response Interceptor)                      ‚îÇ
‚îÇ  - –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ 401 ‚Üí —Ç–æ–∫–µ–Ω –∏—Å—Ç–µ–∫                    ‚îÇ
‚îÇ  - removeToken() + —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /login               ‚îÇ
‚îÇ                                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìù –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –®–∞–≥ 1: api.js ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ç–æ–∫–µ–Ω–∞

**–§–∞–π–ª:** `DoDel/src/api.js`

```javascript
// –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω –≤ localStorage
export function setToken(token) {
    localStorage.setItem('token', token);
}

// –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –∏–∑ localStorage
export function getToken() {
    return localStorage.getItem('token');
}

// –£–¥–∞–ª–∏—Ç—å —Ç–æ–∫–µ–Ω (–ø—Ä–∏ –≤—ã—Ö–æ–¥–µ)
export function removeToken() {
    localStorage.removeItem('token');
}
```

**–ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç?**
- `setToken()` ‚Äî –∫–æ–≥–¥–∞ –ø—Ä–∏—à–µ–ª —Ç–æ–∫–µ–Ω –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞, —Å–æ—Ö—Ä–∞–Ω—è–µ–º –µ–≥–æ
- `getToken()` ‚Äî –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å, –¥–æ—Å—Ç–∞–µ–º —Ç–æ–∫–µ–Ω
- `removeToken()` ‚Äî –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—Ö–æ–¥–∏—Ç, —É–¥–∞–ª—è–µ–º —Ç–æ–∫–µ–Ω

---

### –®–∞–≥ 2: api.js ‚Äî Request Interceptor

**–í —ç—Ç–æ–º –∂–µ —Ñ–∞–π–ª–µ `api.js`:**

```javascript
api.interceptors.request.use((config) => {
    // –õ–æ–≥–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
    console.info('[API REQUEST]', {
        method: config.method,
        url: config.url,
        data: config.data,
    });

    // ‚≠ê –ì–õ–ê–í–ù–û–ï: –¥–æ–±–∞–≤–ª—è–µ–º —Ç–æ–∫–µ–Ω –∫ –∑–∞–ø—Ä–æ—Å—É
    const token = getToken();
    if (token) {
        config.headers['Authorization'] = `Bearer ${token}`;
    }

    return config;
}, (err) => Promise.reject(err));
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**
```
api.post('/api/orders', data)
    ‚Üì
–ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –∑–∞–ø—Ä–æ—Å
    ‚Üì
getToken() ‚Üí "eyJhbGci..."
    ‚Üì
–î–æ–±–∞–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫: Authorization: Bearer eyJhbGci...
    ‚Üì
–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å —Ç–æ–∫–µ–Ω–æ–º ‚úÖ
```

---

### –®–∞–≥ 3: api.js ‚Äî Response Interceptor (–æ–±—Ä–∞–±–æ—Ç–∫–∞ 401)

**–í —ç—Ç–æ–º –∂–µ —Ñ–∞–π–ª–µ `api.js`:**

```javascript
api.interceptors.response.use(
    (response) => {
        // –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200 –∏ —Ç.–¥.)
        console.info('[API RESPONSE]', {
            status: response.status,
            data: response.data,
        });
        return response;
    },
    (error) => {
        const status = error?.response?.status;

        if (status === 401) {
            // –û–π! –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫ –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π
            removeToken();              // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π —Ç–æ–∫–µ–Ω
            window.location.href = '/login';  // –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –ª–æ–≥–∏–Ω
            console.warn('–¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫!');
        } else {
            console.error('API error:', status, error.message);
        }

        return Promise.reject(error);
    }
);
```

**–ß—Ç–æ —ç—Ç–æ?**
- –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª 401 ‚Üí –∑–Ω–∞—á–∏—Ç —Ç–æ–∫–µ–Ω –Ω–µ–≤–µ—Ä–Ω—ã–π
- –ú—ã —É–¥–∞–ª—è–µ–º —Ç–æ–∫–µ–Ω
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ª–æ–≥–∏–Ω –∏ –¥–æ–ª–∂–µ–Ω –∑–∞–Ω–æ–≤–æ –ª–æ–≥–∏–Ω–∏—Ç—å—Å—è

---

### –®–∞–≥ 4: Login.jsx ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

**–§–∞–π–ª:** `DoDel/src/pages/Login.jsx`

```javascript
import api, { setToken } from '../api';
import { useNavigate } from 'react-router-dom';

export default function Login() {
    const navigate = useNavigate();
    
    const onSubmit = async (data) => {
        try {
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º email + –ø–∞—Ä–æ–ª—å
            const response = await api.post('/auth/login', {
                email: data.email,
                password: data.password
            });
            
            // –ü–æ–ª—É—á–∞–µ–º —Ç–æ–∫–µ–Ω
            const token = response.data;  // "eyJhbGci..."
            
            // ‚≠ê –°–û–•–†–ê–ù–Ø–ï–ú —Ç–æ–∫–µ–Ω
            setToken(token);
            
            // –ò–¥–µ–º –Ω–∞ –∑–∞—â–∏—â–µ–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            navigate('/order');
            
        } catch (error) {
            alert('–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: ' + error.message);
        }
    };
    
    return (
        <form onSubmit={handleSubmit(onSubmit)}>
            {/* –ø–æ–ª—è —Ñ–æ—Ä–º—ã */}
        </form>
    );
}
```

**–ü–æ—Ç–æ–∫:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç email + –ø–∞—Ä–æ–ª—å
2. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä
3. –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–∫–µ–Ω
4. –ú—ã –≤—ã–∑—ã–≤–∞–µ–º `setToken(token)` ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
5. –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/order`

---

### –®–∞–≥ 5: ProtectedRoute.jsx ‚Äî –∑–∞—â–∏—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü

**–§–∞–π–ª:** `DoDel/src/Components/ProtectedRoute.jsx`

```javascript
import { Navigate } from 'react-router-dom';
import { getToken } from '../api';

export default function ProtectedRoute({ children }) {
    const token = getToken();
    
    // –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω–∞ –Ω–µ—Ç ‚Üí –Ω–∞ –ª–æ–≥–∏–Ω!
    if (!token) {
        return <Navigate to="/login" replace />;
    }
    
    // –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –µ—Å—Ç—å ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É
    return children;
}
```

**–ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞:**
- –ï—Å—Ç—å —Ç–æ–∫–µ–Ω? ‚Üí –û–ö, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É
- –ù–µ—Ç —Ç–æ–∫–µ–Ω–∞? ‚Üí –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –ª–æ–≥–∏–Ω

---

### –®–∞–≥ 6: App.jsx ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º ProtectedRoute

**–§–∞–π–ª:** `DoDel/src/App.jsx`

```javascript
import ProtectedRoute from './Components/ProtectedRoute';

function App() {
    return (
        <Routes>
            {/* –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã */}
            <Route path="/" element={<Home />} />
            <Route path="/login" element={<Login />} />
            <Route path="/registration" element={<Registration />} />

            {/* üõ°Ô∏è –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã */}
            <Route 
                path="/order" 
                element={
                    <ProtectedRoute>
                        <Order />
                    </ProtectedRoute>
                } 
            />
        </Routes>
    );
}
```

**–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `/order`:**
1. React –≤—ã–∑—ã–≤–∞–µ—Ç `<ProtectedRoute>`
2. ProtectedRoute –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `getToken()`
3. –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω–∞ –Ω–µ—Ç ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/login`
4. –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –µ—Å—Ç—å ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `<Order />`

---

### –®–∞–≥ 7: Header.jsx ‚Äî –∫–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞

**–§–∞–π–ª:** `DoDel/src/Components/Header.jsx`

```javascript
import { useNavigate } from 'react-router-dom';
import { getToken, removeToken } from '../api';

export default function Header() {
    const navigate = useNavigate();
    const token = getToken();
    
    const handleLogout = () => {
        removeToken();      // –£–¥–∞–ª—è–µ–º —Ç–æ–∫–µ–Ω
        navigate('/login');  // –ò–¥–µ–º –Ω–∞ –ª–æ–≥–∏–Ω
    };
    
    return (
        <header>
            <div className="logo">DoDel</div>
            
            <div className="buttons">
                {token ? (
                    // –ï—Å–ª–∏ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω
                    <>
                        <button onClick={() => navigate('/order')}>
                            –ó–∞–∫–∞–∑–∞—Ç—å
                        </button>
                        <button onClick={handleLogout}>
                            –í—ã—Ö–æ–¥
                        </button>
                    </>
                ) : (
                    // –ï—Å–ª–∏ –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω
                    <>
                        <button onClick={() => navigate('/login')}>
                            –í—Ö–æ–¥
                        </button>
                        <button onClick={() => navigate('/registration')}>
                            –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                        </button>
                    </>
                )}
            </div>
        </header>
    );
}
```

**–õ–æ–≥–∏–∫–∞:**
- –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –µ—Å—Ç—å ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º "–ó–∞–∫–∞–∑–∞—Ç—å" –∏ "–í—ã—Ö–æ–¥"
- –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω–∞ –Ω–µ—Ç ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º "–í—Ö–æ–¥" –∏ "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è"

---

## üîÑ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª (—Å –ø—Ä–∏–º–µ—Ä–∞–º–∏)

### –°—Ü–µ–Ω–∞—Ä–∏–π: –ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç Home
   - –ù–∞–∂–∏–º–∞–µ—Ç "–í–æ–π—Ç–∏" ‚Üí –∏–¥–µ—Ç –Ω–∞ /login
   
2. –ù–∞ Login.jsx
   - –í–≤–æ–¥–∏—Ç email: user@example.com
   - –í–≤–æ–¥–∏—Ç –ø–∞—Ä–æ–ª—å: 123456
   - –ù–∞–∂–∏–º–∞–µ—Ç "–û—Ç–ø—Ä–∞–≤–∏—Ç—å"
   
3. onSubmit –≤ Login.jsx
   - api.post('/auth/login', {email, password})
   - Request Interceptor: —Ç–æ–∫–µ–Ω–∞ –µ—â–µ –Ω–µ—Ç, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞–∫ –µ—Å—Ç—å
   - –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
   - –°–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç: "eyJhbGciOiJIUzI1NiIs..."
   
4. Login.jsx –ø–æ–ª—É—á–∏–ª –æ—Ç–≤–µ—Ç
   - const token = response.data
   - setToken(token) ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ –≤ localStorage
   - navigate('/order') ‚Üí –∏–¥–µ–º –Ω–∞ –∑–∞—â–∏—â–µ–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
   
5. App.jsx –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –º–∞—Ä—à—Ä—É—Ç /order
   - <ProtectedRoute> –ø—Ä–æ–≤–µ—Ä—è–µ—Ç getToken()
   - –¢–æ–∫–µ–Ω –µ—Å—Ç—å! ‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç <Order />
   
6. Header.jsx –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
   - token = getToken() ‚Üí "eyJhbGci..."
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: "–ó–∞–∫–∞–∑–∞—Ç—å" + "–í—ã—Ö–æ–¥" –∫–Ω–æ–ø–∫–∏
```

### –°—Ü–µ–Ω–∞—Ä–∏–π: –ó–∞–∫–∞–∑ –¥–æ—Å—Ç–∞–≤–∫–∏ (—Å —Ç–æ–∫–µ–Ω–æ–º)

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ /order (–∑–∞–ª–æ–≥–∏–Ω–µ–Ω)
2. –ù–∞–∂–∏–º–∞–µ—Ç "–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑"
3. Order.jsx –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç: api.post('/api/orders', data)
4. Request Interceptor –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç
   - getToken() ‚Üí "eyJhbGci..."
   - –î–æ–±–∞–≤–ª—è–µ—Ç: Authorization: Bearer eyJhb–ìci...
5. –°–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å —Å —Ç–æ–∫–µ–Ω–æ–º
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ø–∏—Å—å ‚Üí OK!
   - –°–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: {orderId: 123, status: "CREATED"}
6. Response Interceptor –ª–æ–≥–∏—Ä—É–µ—Ç —É—Å–ø–µ—Ö
7. Order.jsx –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```

### –°—Ü–µ–Ω–∞—Ä–∏–π: –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫ (401 –æ—à–∏–±–∫–∞)

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã–ª –∑–∞–ª–æ–≥–∏–Ω–µ–Ω 7 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥ (—Ç–æ–∫–µ–Ω –Ω–∞ 6 –º–∏–Ω—É—Ç)
2. –ù–∞–∂–∏–º–∞–µ—Ç "–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑"
3. Order.jsx –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç: api.post('/api/orders', data)
4. Request Interceptor –¥–æ–±–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–π —Ç–æ–∫–µ–Ω
5. –°–µ—Ä–≤–µ—Ä: "–≠—Ç–æ—Ç —Ç–æ–∫–µ–Ω –∏—Å—Ç–µ–∫! –û—à–∏–±–∫–∞ 401"
6. Response Interceptor –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç 401
   - removeToken() ‚Üí —É–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π —Ç–æ–∫–µ–Ω
   - window.location.href = '/login' ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç
7. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç Login —Å—Ç—Ä–∞–Ω–∏—Ü—É
8. –î–æ–ª–∂–µ–Ω –∑–∞–Ω–æ–≤–æ –ª–æ–≥–∏–Ω–∏—Ç—å—Å—è
```

### –°—Ü–µ–Ω–∞—Ä–∏–π: –í—ã—Ö–æ–¥

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ª–æ–≥–∏–Ω–µ–Ω
2. –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–í—ã—Ö–æ–¥" –≤ Header
3. handleLogout() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
   - removeToken() ‚Üí —É–¥–∞–ª—è–µ–º —Ç–æ–∫–µ–Ω –∏–∑ localStorage
   - navigate('/login') ‚Üí –∏–¥–µ–º –Ω–∞ –ª–æ–≥–∏–Ω
4. Header –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:
   - getToken() ‚Üí null
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: "–í—Ö–æ–¥" + "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è" –∫–Ω–æ–ø–∫–∏
5. –ï—Å–ª–∏ –ø–æ–ø—Ä–æ–±—É–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å /order
   - ProtectedRoute: getToken() ‚Üí null
   - –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /login ‚úÖ
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12)

```javascript
// 1. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –µ—Å—Ç—å –ª–∏ —Ç–æ–∫–µ–Ω
localStorage.getItem('token')
// –û—Ç–≤–µ—Ç: null –∏–ª–∏ "eyJhbGci..."

// 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –æ–Ω –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
// –û—Ç–∫—Ä—ã—Ç—å Network tab (F12 ‚Üí Network)
// –°–¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å ‚Üí –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å Request Headers
// –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å: Authorization: Bearer eyJhbGci...

// 3. –£–¥–∞–ª–∏—Ç—å —Ç–æ–∫–µ–Ω (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
localStorage.removeItem('token')

// 4. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç—å /order
// –î–æ–ª–∂–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /login

// 5. –ó–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è ‚Üí –æ—Ç–∫—Ä—ã—Ç—å /order
// –î–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
```

---

## üéØ –ß–µ–∫-–ª–∏—Å—Ç

- [ ] `api.js` –∏–º–µ–µ—Ç `setToken()`, `getToken()`, `removeToken()`
- [ ] Request Interceptor –≤ `api.js` –¥–æ–±–∞–≤–ª—è–µ—Ç Authorization –∑–∞–≥–æ–ª–æ–≤–æ–∫
- [ ] Response Interceptor –≤ `api.js` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç 401 –æ—à–∏–±–∫—É
- [ ] `Login.jsx` –≤—ã–∑—ã–≤–∞–µ—Ç `setToken(token)` –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞
- [ ] `ProtectedRoute.jsx` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `getToken()`
- [ ] `App.jsx` –æ–±–µ—Ä—Ç—ã–≤–∞–µ—Ç –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –≤ `<ProtectedRoute>`
- [ ] `Header.jsx` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω–æ–≥–æ –∏ –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω–æ–≥–æ
- [ ] `Header.jsx` –∏–º–µ–µ—Ç –∫–Ω–æ–ø–∫—É –≤—ã—Ö–æ–¥–∞ —Å `removeToken()`
- [ ] –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ `/order` –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/login`
- [ ] –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ `/order` —Å —Ç–æ–∫–µ–Ω–æ–º ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `JWT.md` ‚Äî —Ç–µ–æ—Ä–∏—è JWT —Ç–æ–∫–µ–Ω–∞
- `API.md` ‚Äî –¥–µ—Ç–∞–ª–∏ api.js
- `ProtectedRoute.md` ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–æ –∑–∞—â–∏—Ç—É –º–∞—Ä—à—Ä—É—Ç–æ–≤

---

## –†–µ–∑—é–º–µ

**–ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ª–æ–≥–∏–Ω–∏—Ç—Å—è ‚Üí –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω
2. –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage ‚Üí `setToken()`
3. –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ ‚Üí Request Interceptor
4. –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫–µ–Ω–∞ ‚Üí ProtectedRoute
5. –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –∏—Å—Ç–µ–∫ ‚Üí 401 –æ—à–∏–±–∫–∞ ‚Üí —É–¥–∞–ª—è–µ–º –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç ‚Üí Response Interceptor
6. –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ —É–¥–∞–ª—è–µ—Ç —Ç–æ–∫–µ–Ω ‚Üí `removeToken()`

**–í–º–µ—Å—Ç–µ —ç—Ç–æ –¥–∞–µ—Ç –ø–æ–ª–Ω—É—é –∑–∞—â–∏—Ç—É!** üîê
